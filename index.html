<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width,initial-scale=1,minimum-scale=1,viewport-fit=cover"
		/>
		<link rel="stylesheet" href="style.css" />
		<title>Sistema AR - Admin/UsuÃ¡rio</title>
	</head>

	<body>
		<!-- TELA INICIAL -->
		<div id="home-screen">
			<h1>ğŸ¯ Sistema AR</h1>
			<p>
				Sistema de realidade aumentada para navegaÃ§Ã£o em eventos. Escolha seu modo de
				acesso:
			</p>

			<button class="home-btn admin-btn" onclick="enterAdminMode()">
				ğŸ‘¨â€ğŸ’¼ Modo Administrador
				<br /><small>Criar e gerenciar pontos</small>
			</button>

			<button class="home-btn user-btn" onclick="enterUserMode()">
				ğŸ‘¥ Modo Visitante
				<br /><small>Visualizar pontos do evento</small>
			</button>

			<div
				style="margin-top: 30px; opacity: 0.7; font-size: 0.9em; text-align: center"
			>
				<div id="stored-points-info">Carregando estatÃ­sticas...</div>
			</div>
		</div>

		<!-- TELA ADMIN -->
		<div id="admin-screen">
			<button class="btn btn-back" onclick="goHome()">â† Voltar</button>

			<div id="info" class="admin-header">
				<strong>ğŸ”§ Modo Administrador</strong><br />
				<div id="calibration-status" class="status-nao-calibrado">âŒ NÃ£o calibrado</div>
				<button id="calibrate-btn" class="btn">Calibrar com QR Code</button>
				<br /><br />
				<div id="instructions">
					1. Primeiro, faÃ§a a calibraÃ§Ã£o<br />
					2. Depois toque no retÃ­culo para criar cubos
				</div>
			</div>

			<div id="status">
				<div id="points-count">Pontos criados: 0</div>
				<button
					id="clear-all-btn"
					class="btn"
					style="background: #dc3545; margin-top: 10px"
					onclick="clearAllPoints()"
				>
					ğŸ—‘ï¸ Limpar Todos
				</button>
			</div>
		</div>

		<!-- TELA USUÃRIO -->
		<div id="user-screen">
			<button class="btn btn-back" onclick="goHome()">â† Voltar</button>

			<div id="info" class="user-header">
				<strong>ğŸ‘¥ Modo Visitante</strong><br />
				<div id="user-calibration-status" class="status-nao-calibrado">
					âŒ NÃ£o calibrado
				</div>
				<button id="user-calibrate-btn" class="btn">Calibrar com QR Code</button>
				<br /><br />
				<div id="user-instructions">
					1. Calibre com o QR Code do evento<br />
					2. Entre no AR para ver os pontos
				</div>
			</div>

			<div id="user-stats">
				<strong>ğŸ“Š EstatÃ­sticas</strong><br />
				<div id="user-points-available">Pontos disponÃ­veis: 0</div>
				<div id="user-events-available">Eventos: 0</div>
				<div id="user-current-event">Evento atual: Nenhum</div>
			</div>
		</div>

		<!-- Scanner QR Code -->
		<div id="qr-scanner">
			<div id="qr-instructions">
				<h3>CalibraÃ§Ã£o do Sistema</h3>
				<p>Aponte a cÃ¢mera para o QR Code do evento.</p>
				<p>Este QR deve estar no ponto de entrada ou referÃªncia do local.</p>
			</div>
			<video id="qr-video" autoplay muted playsinline></video>
			<button id="cancel-qr" class="btn">Cancelar</button>
		</div>

		<!-- Library do QR Code Scanner -->
		<script src="https://unpkg.com/jsqr/dist/jsQR.js"></script>

		<!-- Script principal -->
		<script type="module" src="script.js"></script>
	</body>
</html>
